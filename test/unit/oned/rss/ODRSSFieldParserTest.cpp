/*
* Copyright 2021 gitlost
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

#include "oned/rss/ODRSSFieldParser.h"

#include "DecodeStatus.h"

#include "gtest/gtest.h"

using namespace ZXing;
using namespace ZXing::OneD::DataBar;

TEST(ODRSSFieldParserTest, ParseFieldsInGeneralPurpose)
{
	std::string result;

	EXPECT_EQ(ParseFieldsInGeneralPurpose("0112345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(01)12345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("011234567890123", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("01123456789012345", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("16123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(16)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("1612345", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("161234567", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("2212345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(22)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("221234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(22)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("22123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("91123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(91)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9112345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(91)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("911234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("92123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(92)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9212345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(92)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("921234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("93123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(93)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9312345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(93)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("931234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("94123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(94)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9412345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(94)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("941234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("95123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(95)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9512345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(95)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("951234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("96123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(96)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9612345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(96)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("961234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("97123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(97)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9712345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(97)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("971234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("98123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(98)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9812345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(98)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("981234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("99123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(99)123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("9912345678901234567890123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(99)12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("991234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("2351234567890123456789012345678", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(235)1234567890123456789012345678");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("235123456789012345678901234567", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(235)123456789012345678901234567");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("23512345678901234567890123456789", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("24312345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(243)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("2431234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(243)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("243123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("253123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(253)123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("25312345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(253)12345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("2531234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("2551234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(255)1234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("255123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(255)123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("25512345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("4151234567890123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(415)1234567890123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("415123456789012", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("41512345678901234", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("4161234567890123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(416)1234567890123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("416123456789012", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("41612345678901234", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("4171234567890123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(417)1234567890123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("417123456789012", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("41712345678901234", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("421123456789012", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(421)123456789012");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("42112345678901", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(421)12345678901");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4211234567890123", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("425123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(425)123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("42512345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(425)12345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4251234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("427123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(427)123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("42712", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(427)12");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4271234", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("71012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(710)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7101234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(710)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("710123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("71112345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(711)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7111234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(711)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("711123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("71212345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(712)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7121234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(712)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("712123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("71312345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(713)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7131234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(713)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("713123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("71412345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(714)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7141234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(714)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("714123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("3370123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(3370)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("337012345", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("33701234567", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("3375123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(3375)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("3376123456", result), DecodeStatus::NoError); // TODO: Make error (3375 max)

	EXPECT_EQ(ParseFieldsInGeneralPurpose("39401234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(3940)1234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("394012345", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("3940123", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("39431234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(3943)1234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("39441234", result), DecodeStatus::NoError); // TODO: Make error (3943 max)

	EXPECT_EQ(ParseFieldsInGeneralPurpose("3950123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(3950)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("39501234567", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("395012345", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("3955123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(3955)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("3956123456", result), DecodeStatus::NoError); // TODO: Make error (3955 max)

	EXPECT_EQ(ParseFieldsInGeneralPurpose("7230123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7230)123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("723012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7230)12345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("72301234567890123456789012345678901", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7239123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7239)123456789012345678901234567890");

	EXPECT_EQ(ParseFieldsInGeneralPurpose("430012345678901234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4300)12345678901234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43001234567890123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4300)1234567890123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4300123456789012345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("430112345678901234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4301)12345678901234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43011234567890123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4301)1234567890123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4301123456789012345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43021234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4302)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4302123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4302)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("430212345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43031234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4303)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4303123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4303)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("430312345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43041234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4304)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4304123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4304)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("430412345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43051234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4305)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4305123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4305)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("430512345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43061234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4306)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4306123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4306)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("430612345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("430712", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4307)12");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4307123", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43071", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("4308123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4308)123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("430812345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4308)12345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43081234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("431012345678901234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4310)12345678901234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43101234567890123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4310)1234567890123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4310123456789012345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("431112345678901234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4311)12345678901234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43111234567890123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4311)1234567890123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4311123456789012345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43131234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4313)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4313123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4313)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("431312345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43141234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4314)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4314123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4314)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("431412345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43151234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4315)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4315123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4315)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("431512345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43161234567890123456789012345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4316)1234567890123456789012345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4316123456789012345678901234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4316)123456789012345678901234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("431612345678901234567890123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("431712", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4317)12");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4317123", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43171", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("431812345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4318)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43181234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4318)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4318123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("4319123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4319)123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("431912345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4319)12345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43191234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("432012345678901234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4320)12345678901234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43201234567890123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4320)1234567890123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4320123456789012345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43211", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4321)1");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("432112", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4321", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43221", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4322)1");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("432212", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4322", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43231", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4323)1");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("432312", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4323", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43241234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4324)1234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("432412345678901", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4324123456789", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("43251234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4325)1234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("432512345678901", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("4325123456789", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("4326123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(4326)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("43261234567", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("432612345", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("70041234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7004)1234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7004123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7004)123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("700412345", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("7005123456789012", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7005)123456789012");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("700512345678901", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7005)12345678901");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70051234567890123", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("7006123456", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7006)123456");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70061234567", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("700612345", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("7007123456789012", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7007)123456789012");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("700712345678901", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7007)12345678901");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70071234567890123", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("7008123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7008)123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("700812", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7008)12");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70081234", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("70091234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7009)1234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7009123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7009)123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("700912345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("701012", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7010)12");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70101", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7010)1");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7010123", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("702012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7020)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70201234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7020)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7020123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("702112345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7021)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70211234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7021)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7021123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("702212345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7022)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70221234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7022)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7022123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("7023123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7023)123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("702312345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7023)12345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("70231234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("70401234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7040)1234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("704012345", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7040123", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("724012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7240)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("72401234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(7240)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("7240123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("80071234567890123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8007)1234567890123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("8007123456789012345678901234567890123", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8007)123456789012345678901234567890123");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("800712345678901234567890123456789012345", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("800912345678901234567890123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8009)12345678901234567890123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("80091234567890123456789012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8009)1234567890123456789012345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("8009123456789012345678901234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("8010123456789012345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8010)123456789012345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("801012345678901234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8010)12345678901234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("80101234567890123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("8011123456789012", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8011)123456789012");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("801112345678901", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8011)12345678901");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("80111234567890123", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("801212345678901234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8012)12345678901234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("80121234567890123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8012)1234567890123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("8012123456789012345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("80131234567890123456789012345", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8013)1234567890123456789012345");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("8013123456789012345678901234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8013)123456789012345678901234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("801312345678901234567890123456", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("8017123456789012345678", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8017)123456789012345678");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("80171234567890123456789", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("801712345678901234567", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("80191234567890", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8019)1234567890");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("8019123456789", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8019)123456789");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("801912345678901", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("8026123456789012345678", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8026)123456789012345678");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("80261234567890123456789", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("802612345678901234567", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("8100123456", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("81011234567890", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("810212", result), DecodeStatus::NotFound);

	EXPECT_EQ(ParseFieldsInGeneralPurpose("81111234", result), DecodeStatus::NoError);
	EXPECT_EQ(result, "(8111)1234");
	EXPECT_EQ(ParseFieldsInGeneralPurpose("811112345", result), DecodeStatus::NotFound);
	EXPECT_EQ(ParseFieldsInGeneralPurpose("8111123", result), DecodeStatus::NotFound);
}
